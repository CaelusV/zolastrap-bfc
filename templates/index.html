{% extends "base.html" %}
{% import "macros/post.html" as post %}
{% import "macros/posts.html" as posts %}
{% import "macros/paginator.html" as paginator %}
{% import "macros/header.html" as header %}

{% block content %}
  {% if section.extra.home %}
  {% for row in section.extra.home %}
    <div class="row">
      {% for item in row %}
        <div class="col-md-{{item.size}}">
          {% if item.title %}
            {{header::render(text=item.title)}}
          {% endif %}
          {% set articles = get_section(path=item.section~"/_index.md") %}
          {% if item.type %}
          {% set type = item.type %}
          {% else %}
          {% set type = 'default' %}
          {% endif %}
          {% set pages = articles.pages | slice(start=item.start, end=item.end) %}
          {{posts::render(pages=pages, type=type)}}
        </div>
      {% endfor %}
    </div>
  {% endfor %}
  {% endif %}
  {% if section.title %}
    <h1 class="px-3">{{section.title}}</h1>
  {% endif %}
  {% if section.description %}
    <p class="px-3 text-muted">{{section.description}}</p>
  {% endif %}
  {% if section.content %}
    <div class="px-3">{{section.content | safe}}</div>
  {% endif %}
	{% for page in paginator.pages %}
    {{post::render(page=page)}}
	{% endfor %}
  {{paginator::render(paginator=paginator)}}
  {% if section.extra.tags %}
    {{header::render(text=config.extra.tags)}}
    {% set tags = get_taxonomy(kind="tags") %}
    {% for item in tags.items %}
      <a
        class="text-decoration-none link-dark"
        href="{{item.permalink}}"
      >{{item.name}}</a> | 
    {% endfor %}
  {% endif %}
{% endblock %}
